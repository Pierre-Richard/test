(this["webpackJsonpreact-pokemons-app"]=this["webpackJsonpreact-pokemons-app"]||[]).push([[0],{27:function(e,t,c){},34:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c(1),s=c(18),r=c.n(s),i=c(9),l=(c(27),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return"".concat(e.getDate(),"/").concat(e.getMonth()+1,"/").concat(e.getFullYear())}),o=function(e){var t;switch(e){case"Feu":t="red lighten-1";break;case"Eau":t="blue lighten-1";break;case"Plante":t="green lighten-1";break;case"Insecte":t="brown lighten-1";break;case"Normal":t="grey lighten-3";break;case"Vol":t="blue lighten-3";break;case"Poison":t="deep-purple accent-1";break;case"F\xe9e":t="pink lighten-4";break;case"Psy":t="deep-purple darken-2";break;case"Electrik":t="lime accent-1";break;case"Combat":t="deep-orange";break;default:t="grey"}return"chip ".concat(t)},d=c(2),j=function(e){var t=e.pokemon,c=e.borderColor,s=void 0===c?"#009688":c,r=Object(a.useState)(),j=Object(i.a)(r,2),u=j[0],h=j[1],b=Object(d.f)();return Object(n.jsx)("div",{className:"col s6 m4",onClick:function(){return e=t.id,void b.push("/pokemons/".concat(e));var e},onMouseEnter:function(){h(s)},onMouseLeave:function(){h("#f5f5f5")},children:Object(n.jsxs)("div",{className:"card horizontal",style:{borderColor:u},children:[Object(n.jsx)("div",{className:"card-image",children:Object(n.jsx)("img",{src:t.picture,alt:t.name})}),Object(n.jsx)("div",{className:"card-stacked",children:Object(n.jsxs)("div",{className:"card-content",children:[Object(n.jsx)("p",{children:t.name}),Object(n.jsx)("p",{children:Object(n.jsx)("small",{children:l(t.created)})}),t.types.map((function(e){return Object(n.jsx)("span",{className:o(e),children:e},e)}))]})})]})})},u=c(20),h=c(21),b=function(){function e(){Object(u.a)(this,e)}return Object(h.a)(e,null,[{key:"getPokemons",value:function(){var e=this;return fetch("http://localhost:3001/pokemons").then((function(e){return e.json()})).catch((function(t){return e.handleError(t)}))}},{key:"getPokemon",value:function(e){var t=this;return fetch("http://localhost:3001/pokemons/".concat(e)).then((function(e){return e.json()})).then((function(e){return t.isEmpty(e)?null:e})).catch((function(e){return t.handleError(e)}))}},{key:"updatePokemon",value:function(e){var t=this;return fetch("http://localhost:3001/pokemons/".concat(e.id),{method:"PUT",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(e){return t.handleError(e)}))}},{key:"deletePokemon",value:function(e){var t=this;return fetch("http://localhost:3001/pokemons/".concat(e.id),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(e){return t.handleError(e)}))}},{key:"isEmpty",value:function(e){return 0===Object.keys(e).length}},{key:"handleError",value:function(e){console.error(e)}}]),e}(),m=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),c=t[0],s=t[1];return Object(a.useEffect)((function(){b.getPokemons().then((function(e){return s(e)}))}),[]),Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{className:"center",children:"Pok\xe9dex"}),Object(n.jsx)("div",{className:"container",children:Object(n.jsx)("div",{className:"row",children:c.map((function(e){return Object(n.jsx)(j,{pokemon:e},e.id)}))})})]})},p=c(8),O=function(e){var t=e.match,c=Object(a.useState)(null),s=Object(i.a)(c,2),r=s[0],d=s[1];return Object(a.useEffect)((function(){b.getPokemon(+t.params.id).then((function(e){return d(e)}))}),[t.params.id]),Object(n.jsx)("div",{children:r?Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col s12 m8 offset-m2",children:[Object(n.jsx)("h2",{className:"header center",children:r.name}),Object(n.jsxs)("div",{className:"card hoverable",children:[Object(n.jsxs)("div",{className:"card-image",children:[Object(n.jsx)("img",{src:r.picture,alt:r.name,style:{width:"250px",margin:"0 auto"}}),Object(n.jsx)(p.b,{to:"/pokemons/edit/".concat(r.id),className:"btn btn-floting halfway-fab waves-effet waves-light",children:Object(n.jsx)("i",{className:"material-icons",children:"edit"})})]}),Object(n.jsxs)("div",{className:"card-stacked",children:[Object(n.jsx)("div",{className:"card-content",children:Object(n.jsx)("table",{className:"bordered striped",children:Object(n.jsxs)("tbody",{children:[Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:"Nom"}),Object(n.jsx)("td",{children:Object(n.jsx)("strong",{children:r.name})})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:"Points de vie"}),Object(n.jsx)("td",{children:Object(n.jsx)("strong",{children:r.hp})})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:"D\xe9g\xe2ts"}),Object(n.jsx)("td",{children:Object(n.jsx)("strong",{children:r.cp})})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:"Types"}),Object(n.jsx)("td",{children:r.types.map((function(e){return Object(n.jsx)("span",{className:o(e),children:e},e)}))})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:"Date de cr\xe9ation"}),Object(n.jsx)("td",{children:l(r.created)})]})]})})}),Object(n.jsx)("div",{className:"card-action",children:Object(n.jsx)(p.b,{to:"/",children:"Retour"})})]})]})]})}):Object(n.jsx)("h4",{className:"center",children:"Aucun pok\xe9mon \xe0 afficher !"})})},v=function(){return Object(n.jsxs)("div",{className:"center",children:[Object(n.jsx)("img",{src:"http://assets.pokemon.com/assets/cms2/img/pokedex/full/035.png",alt:"Page non trouv\xe9e"}),Object(n.jsx)("h1",{children:"Hey, cette page n'existe pas !"}),Object(n.jsx)(p.b,{to:"/",className:"waves-effect waves-teal btn-flat",children:"Retourner \xe0 l'accueil"})]})},x=c(4),f=c(12),k=function(e){var t=e.pokemon,c=Object(a.useState)({name:{value:t.name,isValid:!0},hp:{value:t.hp,isValid:!0},cp:{value:t.cp,isValid:!0},types:{value:t.types,isValid:!0}}),s=Object(i.a)(c,2),r=s[0],l=s[1],j=Object(d.f)(),u=function(e){return r.types.value.includes(e)},h=function(e){var t=e.target.name,c=e.target.value,n=Object(f.a)({},t,{value:c});l(Object(x.a)(Object(x.a)({},r),n))},m=function(){var e=r;if(/^[a-zA-Z\xe0\xe9\xe8 ]{3,25}$/.test(r.name.value)){var t={value:r.name.value,error:"",isValid:!0};e=Object(x.a)(Object(x.a)({},e),{name:t})}else{var c={value:r.name.value,error:"Le nom du pok\xe9mon est requis (1-25).",isValid:!1};e=Object(x.a)(Object(x.a)({},e),{name:c})}if(/^[0-9]{1,3}$/.test(r.hp.value)){var n={value:r.hp.value,error:"",isValid:!0};e=Object(x.a)(Object(x.a)({},e),{hp:n})}else{var a={value:r.hp.value,error:"Les points de vie du pok\xe9mon sont compris entre 0 et 999.",isValid:!1};e=Object(x.a)(Object(x.a)({},e),{hp:a})}if(/^[0-9]{1,2}$/.test(r.cp.value)){var s={value:r.cp.value,error:"",isValid:!0};e=Object(x.a)(Object(x.a)({},e),{cp:s})}else{var i={value:r.cp.value,error:"Les d\xe9g\xe2ts du pok\xe9mon sont compris entre 0 et 99",isValid:!1};e=Object(x.a)(Object(x.a)({},e),{cp:i})}return l(e),e.name.isValid&&e.hp.isValid&&e.cp.isValid},p=function(e){return(1!==r.types.value.length||!u(e))&&!(r.types.value.length>=3&&!u(e))};return Object(n.jsx)("form",{onSubmit:function(e){return function(e){e.preventDefault(),m()&&(t.name=r.name.value,t.hp=r.hp.value,t.cp=r.cp.value,t.types=r.types.value,b.updatePokemon(t).then((function(){return j.push("/pokemons/".concat(t.id))})))}(e)},children:Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col s12 m8 offset-m2",children:Object(n.jsxs)("div",{className:"card hoverable",children:[Object(n.jsxs)("div",{className:"card-image",children:[Object(n.jsx)("img",{src:t.picture,alt:t.name,style:{width:"250px",margin:"0 auto"}}),Object(n.jsx)("span",{className:"btn-floating halway-fab waves-effet waves-light",children:Object(n.jsx)("i",{onClick:function(){b.deletePokemon(t).then((function(){return j.push("/pokemons")}))},className:"material-icons",children:"delete"})})]}),Object(n.jsxs)("div",{className:"card-stacked",children:[Object(n.jsxs)("div",{className:"card-content",children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"name",children:"Nom"}),Object(n.jsx)("input",{id:"name",name:"name",type:"text",className:"form-control",value:r.name.value,onChange:function(e){return h(e)}}),r.name.error&&Object(n.jsx)("div",{className:"card-panel red accent-1",children:r.name.error})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"hp",children:"Point de vie"}),Object(n.jsx)("input",{id:"hp",name:"hp",type:"number",className:"form-control",value:r.hp.value,onChange:function(e){return h(e)}}),r.hp.error&&Object(n.jsx)("div",{className:"card-panel red accent-1",children:r.hp.error})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"cp",children:"D\xe9g\xe2ts"}),Object(n.jsx)("input",{id:"cp",name:"cp",type:"number",className:"form-control",value:r.cp.value,onChange:function(e){return h(e)}}),r.cp.error&&Object(n.jsx)("div",{className:"card-panel red accent-1",children:r.cp.error})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Types"}),["Plante","Feu","Eau","Insecte","Normal","Electrik","Poison","Fe\u0301e","Vol","Combat","Psy"].map((function(e){return Object(n.jsx)("div",{style:{marginBottom:"10px"},children:Object(n.jsxs)("label",{children:[Object(n.jsx)("input",{id:e,type:"checkbox",className:"filled-in",value:e,disabled:!p(e),checked:u(e),onChange:function(t){return function(e,t){var c;c=t.target.checked?{value:r.types.value.concat([e])}:{value:r.types.value.filter((function(t){return t!==e}))},l(Object(x.a)(Object(x.a)({},r),{types:c}))}(e,t)}}),Object(n.jsx)("span",{children:Object(n.jsx)("p",{className:o(e),children:e})})]})},e)}))]})]}),Object(n.jsx)("div",{className:"card-action center",children:Object(n.jsx)("button",{type:"submit",className:"btn",children:"Valider"})})]})]})})})})},g=function(e){var t=e.match,c=Object(a.useState)(null),s=Object(i.a)(c,2),r=s[0],l=s[1];return Object(a.useEffect)((function(){b.getPokemon(+t.params.id).then((function(e){return l(e)}))}),[t.params.id]),Object(n.jsx)("div",{children:r?Object(n.jsxs)("div",{className:"row",children:[Object(n.jsxs)("h2",{className:"header center",children:["\xc9diter ",r.name]}),Object(n.jsx)(k,{pokemon:r})]}):Object(n.jsx)("h4",{className:"center",children:"Aucun pok\xe9mon \xe0 afficher !"})})},N=function(){return Object(n.jsx)(p.a,{children:Object(n.jsxs)("div",{children:[Object(n.jsx)("nav",{children:Object(n.jsx)("div",{children:Object(n.jsx)("div",{className:"nav-wrapper teal",children:Object(n.jsx)(p.b,{to:"/",className:"brand-logo center",children:"Pok\xe9dex"})})})}),Object(n.jsxs)(d.c,{children:[Object(n.jsx)(d.a,{exact:!0,path:"/",component:m}),Object(n.jsx)(d.a,{exact:!0,path:"/Pokemons",component:m}),Object(n.jsx)(d.a,{path:"/pokemons/edit/:id",component:g}),Object(n.jsx)(d.a,{path:"/pokemons/:id",component:O}),Object(n.jsx)(d.a,{component:v})]})]})})};c(33);r.a.render(Object(n.jsx)(N,{}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.acb16c54.chunk.js.map